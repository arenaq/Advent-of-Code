package Year2020;

public class Day3 {
    static String input = ".............#...#....#.....##.,.#...##.........#.#.........#.#,.....##......#.......#.........,.......#...........#.#.........,#...........#...#..#.#......#..,.........##....#.#...#.........,.....#.........#.#...........#.,....#...............##....##...,#.#.............#..#.......#.#.,...#...........................,......#..#....#.............#..,........#......#.......#.......,....#.....#..#.#...#.........#.,..#.#.......#.##...#....#.....#,...........#.........#..#......,#...........#.#..#...#.#.#....#,........#......................,....#.#.....#....#.......#..#..,.............................#.,....##..........#.....##......#,......#.....................#..,..#.....##.......#.............,....#.#..............#.#.......,..#.#........#.....#..##.......,.....#...##.........##....#.#..,.#....#..#..#...........#......,.............#.....##........#.,..#....#............#.........#,###..........#........#.......#,#...#..#.#.#.........#..#......,..#....#......#.............#..,#...#........#..#...#.....#....,.#..........#.#........#.......,#.....#.........#..#......#....,....#....##........#......#....,.......#....#.....#..#..#.....#,.........#...#.#...#.##........,.##.##...........#..##..#......,.#.##....#........#...#........,.......##.........##.####.....#,....#..##....#.................,.#........#..........#.........,##....##..........##........#..,#......#...........#....#..#...,.......#..#....##..##.....#....,.........#.#.#...#.....#.......,......#...#...#....#......#....,##....#..........#....##....##.,###.........#...#...#..........,#.....##.#........#.......#....,#...............#...##.#......#,..#.....####.###......#......#.,....#.......#..........#.......,....##..............#.#.#......,.......##..#.......#...........,..#.......##....#.......###...#,........#...#.......#.#...#....,.........##....#..#....#.......,............#.#.......#.#......,.....#.....#...#....#.##.......,.......#.........#.......#.....,.#..#...#.....#............#.##,.......#.#......##.............,##.#......#.....#.#............,.#....#.....#............#...#.,.........#.......#.#...........,#............#.##...#..#...#.#.,......#....#.......#....#......,..........#........#..#.#......,#..##.......#.........#..#.....,.........#.....##........#.#..#,..#................#...........,....#..#........##.........#..#,###...#....##.#......##.......#,.......#......##..#.......#....,.......###...#...#..........##.,................#.......#......,.#......##.##........#.........,....##.#.....##.......#........,...........#...........#.....#.,..#........#..#.#...#.#........,#...............#...#.##.##.#.#,................#.......#......,.#..#......#........#.#........,...##..#.......#.......#..#....,.#.....#.#....##..#........#...,........##......#..........#...,.#.......#.......#...#..#......,.#..##.....#....#............#.,...#..........#....#........#..,..#.#..#.......#.#.##..........,#........###.....#.#.......#.##,.....#....##.............#.#..#,..##............#...##.........,...#.........#...........#.....,...#......#.#...#..###.........,.............#...##............,.....##..##.####.#..#......#.#.,.#...#.....#.....#.#.....#.....,.........#.......###.....#..##.,.##.#..#..........#.##.#.#.....,.#...#...#.#.##......#..#......,.............#......#......#...,#.....................#......#.,...#.....#.....#....#........#.,................##..#....#..#..,#.###...#.....................#,...#..#....#.......#.........#.,...........#..#..#...........#.,.......#..#......#....#.#......,..........#......#..#....#.....,.#.#.....#...#.#...#...#.#....#,.....#.......#............#...#,#.#....#......#......#........#,.#.#..#.........##...#.........,#..###..#......................,..#.#..#.......................,.##.....#...#......#..#........,...#...........#...#.......##..,..#...........#........#.......,........#....#.....#.#.........,..........#...........#.....#..,......#...#...##.#.............,.#...#...##....................,............###.........#......,.#.#...................#..#....,....#.#...#.#........#.#.......,....#...#...........#.......#.#,...........#............#...##.,.....####....#.#......#.#......,.##.............#............#.,......#.........#............##,#.#....#...##....#.......#....#,.....#.#....#..#..#...#..#.#..#,.........................#.....,......#.#....###.......#....#..,.....................##.#...#.#,..#.....#.#.#...#...#..........,........#..##........#...#...#.,..........#.#.##....#....##....,.............#..#..............,..#.##..#.......#...#..#..##..#,..#..#....#.#..........#..#....,..........#....#...#......#....,.##...#.......................#,.#.....#....#..........#.......,...........#..#......##.....#..,......###.#..##....#...#.##....,.......#..#.#....#.............,...#..#......##.........###.#..,...........#............##...#.,...#...#...........##.....#....,..................#............,.#.#.#...#..............#..##..,#.#....#........#.........#.##.,#.#.#.......#.....#..........#.,...##.....##.#.....#...........,.#....#..............##...##..#,........##.....................,#..#..#.....###.............#..,.......#...........#...........,.........#.....................,.......#...#...#.....##........,......#.........#........#.....,...#....##..#.####.#.......#.#.,.....#..#......#........#.##..#,.##....#......##......#...###..,..###.#........##.#...#.......#,............#......##....#.#...,.....#....##..##............##.,......##....#.#...#....#.#..#.#,.......#.........#.#.....#.#...,.......#.#....#................,.##...###..#.....#............#,#.#......#.#..#..#.#...#..#..#.,..#.#.#.....#............#...##,.##....###.........#..#........,.#..#.#..#.#....#.........##.#.,....#..#...##.##........#......,........#.#....##....#....#....,.......#..#..#.#..............#,#....#....#.....#....#.........,.#.###...#....#.......#........,.........#.#....##....#...#....,....#.............#.....##.##..,.....#.....#...##..#.#.##...##.,.........#..#................##,...##..##......#.....#........#,.#....#.....#.#......#..###....,#.....#..#.....................,....#.#...#.#.................#,.....##..................#.....,#....##...#.##..###...#........,##.#.........#.......#....#....,.#.#.............##..#.##......,...#.#..............#......#...,.............#.........#.....#.,#.......#........#......#.....#,.....#..............#.##.#.....,#......##...................#..,##.#.....#..........#........#.,#...........##...........#.....,.#...#.....#..#..##....#.......,.....#.........#....##.#.......,#........#......#.............#,.#..................####.#.....,#...#......#....##...#.#..#..#.,............#.#............#...,............#........#.#..###..,.#..#..#..#.#.#.....#.#........,#.....#..#.#...#..#..#........#,#................#....#..#.....,....#..#..#.#......#.#..#.....#,.#..#.......#...##.#.#.....#..#,#.....................#.......#,.............#.......#...#.....,....#......#.........###.##....,....#..#.......#.#........#....,....#...#....#.#....#..........,...#..#......#.............#...,.......###.#.........#....#.#..,..#.....##.....................,.#.#...........#..##....#......,..........##.#....#.#..........,...........#.#..#.#..#.#.......,..........#..#...#.....##......,.....#.........#...#.#..#......,#.#................#..........#,...#.....##.#..#...#.##.......#,.....##...........#............,.....#...#...#...#.#.....#.....,...........##..................,.........#................#....,......#.....#.#...#.......#....,...#...#........#...#...#.#.#..,...............##..#....##...#.,...#.#...........##.......##..#,...........#............#......,.#....#.#.......##.#.#.#.......,.....#.#..#.#.#................,.#............#...#.#..........,.....#.......#.#.......#.....#.,#....#...........#...#....##...,..#...#..##.....#....#..#......,#.#.........#..#.#..#.#......#.,................#......##......,#........#..............#....#.,........#..#.#........#..#..#..,#..........#......#............,..##.......#..#.......#....#...,.#........#..#..#.#.......##...,................#..............,#.................#...........#,##..#...................#....##,#..#....#.....#.#..#.#.#......#,#................#.#.#...#.....,.............#..#...#..##...#.#,#..................#...........,..............#..#.....##.....#,..#...............#.#..........,.....#......#....#..#...#......,.#......#...##.....###.....#...,...##...##.##....#.#.#..#......,....#.#.......#..##....#.##....,...#.........#.#.....#...#...##,.##.#.........##..#.##..#......,.#...#......#......#.........#.,.............#.................,..........#..............#.....,##...........#...#...###....#..,....#...............#..........,.......####.....#......#.......,........#..........#..#........,..#.......#..#.................,......#.#..##...##....#........,.##...#........#...#....#...#..,.......................#.......,.........##..#..#...#....##...#,..#..#...#.....#.........#..#..,.......#....#.........#...#..#.,.............#.................,.....##..#.....###....##.#.....,....#.#..#..#.#.....##....#..#.,......#..#..............#.##..#,..#..#......#.#.........#..#...,..........#.#..#....#.....#....,.....................#.........,...#.....#.......##..#.#.......,.....#...#..........###....#.#.,......#.....##............#...#,.......#..........#.#..#...#..#,#...#..#...........#..##..#....,.#......#.......##.....#..#....,...#..#....#.......##......#...,........#.......##...#.......#.,.....#........#................,......#........#....#..........,...#....#....###.........#.#...,##..............#......#..#.#..,.........##....#........#..#.#.,.......#.##.#........#........#,.....###..#..#...........#....#,.......#....##.......#.#...#...,#..............#.#....#..#...#.,#..#....#..#.#............#..#.,.#...##.#..................#...,...#...............##.........#,###..............#.#..#.#.#....,.#......#.#.....##.......#.....,...#.................#.#.......,.#...#....#...#..#......#...#..,...##....#........#.#.#..#.....,..#.....#........#....#.#......,...........#.#...#.............,......#.....#.....#.........#..,.#.##.###...#.##.......#.......,.............#....#.......#....,..............#...........#....,.............#..#.#.....#....#.,.......#........##...##..##....,..##...#............#..#......#,.............#...##.....#......,.#...##..##.#.........#.##...#.";
    static int height;
    static int width;
    static String[] array;

    public static void main(String[] args) {
        array = input.split(",");
        height = array.length;
        width = array[0].length();
        int part1 = howManyTreesAtAngle(0, 0, 3, 1);
        System.out.println(part1);
        long part2 = 1;
        part2 *= howManyTreesAtAngle(0, 0, 1, 1);
        part2 *= part1;
        part2 *= howManyTreesAtAngle(0, 0, 5, 1);
        part2 *= howManyTreesAtAngle(0, 0, 7, 1);
        part2 *= howManyTreesAtAngle(0, 0, 1, 2);
        System.out.println(part2);
    }

    static int howManyTreesAtAngle(int x, int y, int dx, int dy) {
        int treeHere = array[y].charAt(x % width) == '#' ? 1 : 0;
        if (y + dy >= height) {
            return treeHere;
        } else {
            return treeHere + howManyTreesAtAngle(x + dx, y + dy, dx, dy);
        }
    }
}
